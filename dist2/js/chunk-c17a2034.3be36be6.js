(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c17a2034"],{"0702":function(t,e,n){},"17e8":function(t,e,n){},"3b99":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-header",{staticClass:"musicHeader"},[t._v("音乐将一切平凡的画面赋予深厚的意义~")]),n("el-container",[n("el-main",[n("Banner"),n("Search")],1)],1)],1)},r=[],i=n("bc1b"),s=n.n(i),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-carousel",{attrs:{interval:3e3,type:"card",height:"200px",autoplay:"",loop:""}},t._l(t.rotationList,(function(t,e){return n("el-carousel-item",{key:e},[n("el-image",{staticStyle:{width:"400px",height:"200px"},attrs:{src:t.imageUrl,fit:"fill"}})],1)})),1)},c=[],l=n("a34a"),u=n.n(l);function d(t,e,n,a,r,i,s){try{var o=t[i](s),c=o.value}catch(l){return void n(l)}o.done?e(c):Promise.resolve(c).then(a,r)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var i=t.apply(e,n);function s(t){d(i,a,r,s,o,"next",t)}function o(t){d(i,a,r,s,o,"throw",t)}s(void 0)}))}}var f={data:function(){return{rotationList:[]}},created:function(){this.getRotationList()},methods:{getRotationList:function(){var t=this;return h(u.a.mark((function e(){var n,a;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get(t.$originUrl2+"/banner");case 2:n=e.sent,a=n.data,200==a.code&&(t.rotationList=a.banners);case 5:case"end":return e.stop()}}),e)})))()}}},p=f,m=(n("4a6b"),n("2877")),v=Object(m["a"])(p,o,c,!1,null,"30130041",null),w=v.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hot"},[n("el-input",{ref:"inputRef",staticStyle:{width:"200px"},attrs:{placeholder:"找找看吧",clearable:"","prefix-icon":"el-icon-search"},on:{focus:t.getHotSearch,blur:function(e){t.showInfoTip=!1}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchMusic.apply(null,arguments)}},model:{value:t.keywords,callback:function(e){t.keywords=e},expression:"keywords"}}),n("el-button",{attrs:{type:"primary"},on:{click:t.searchMusic}},[t._v("搜索")]),n("div",{staticClass:"tip"},[t._v("双击就能播放选中歌曲哦~")]),n("transition",{attrs:{name:"el-fade-in"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showInfoTip,expression:"showInfoTip"}],staticClass:"search-info_tip"},[n("div",{directives:[{name:"show",rawName:"v-show",value:""===t.keywords,expression:"keywords === ''"}]},[n("el-card",{staticClass:"hot-search"},[n("div",{staticClass:"hot-title font-14"},[n("span",[t._v("热搜榜")])]),t._l(t.hotList,(function(e,a){return n("div",{key:a,staticClass:"hot-item pointer",class:{"top-item":a<3},on:{click:function(n){return t.clickHot(e.searchWord)}}},[n("div",{staticClass:"item-index"},[t._v(t._s(a+1))]),n("div",{staticClass:"item-info"},[n("div",{staticClass:"key-word"},[n("span",{staticClass:"font-12 item-key"},[t._v(t._s(e.searchWord))])])])])}))],2)],1)])]),n("el-table",{staticStyle:{width:"100%",padding:"10px 20px","margin-top":"30px"},attrs:{data:t.songList,stripe:"","highlight-current-row":""},on:{"row-dblclick":t.playMusic}},[n("el-table-column",{attrs:{type:"index",label:"#","header-align":"center",width:"100pxpx",align:"center"}}),n("el-table-column",{attrs:{prop:"name",label:"歌名","header-align":"center",width:"215px"}}),n("el-table-column",{attrs:{prop:"singer",label:"歌手","header-align":"center",align:"center",width:"215px"}}),n("el-table-column",{staticClass:"over",attrs:{prop:"album",label:"专辑","header-align":"center",align:"center",width:"215px"}}),n("el-table-column",{attrs:{prop:"duration",label:"时长","header-align":"center",align:"center",width:"px"}})],1)],1)},y=[];function b(t,e,n,a,r,i,s){try{var o=t[i](s),c=o.value}catch(l){return void n(l)}o.done?e(c):Promise.resolve(c).then(a,r)}function x(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var i=t.apply(e,n);function s(t){b(i,a,r,s,o,"next",t)}function o(t){b(i,a,r,s,o,"throw",t)}s(void 0)}))}}var k={data:function(){return{defaultWord:"",keywords:"",showInfoTip:!1,songList:[],musicList:[],songId:0,hotList:[]}},created:function(){this.getDefault()},filters:{format:function(t){var e=parseInt(t%36e5/6e4),n=parseInt(t%6e4/1e3).toFixed(0);return n=n<10?"0"+n:n,e+":"+n}},methods:{playMusic:function(t){this.$store.commit("setMusicId",t.id),this.$store.commit("setPlayState",!0);var e={name:t.name,singer:t.singer,totaltime:t.totaltime,duration:t.duration,imgUrl:t.al.picUrl};this.$store.commit("setMusicInfo",e)},getSongList:function(){var t=this;return x(u.a.mark((function e(){var n,a;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get(t.$originUrl2+"/cloudsearch?keywords="+t.defaultWord+"&limit=20");case 2:n=e.sent,a=n.data,200==a.code&&(t.songList=a.result.songs),t.songList.forEach((function(e){e.singer=e.ar[0].name,e.album=e.al.name,e.totaltime=e.dt,e.duration=t.$options.filters["format"](e.dt)}));case 6:case"end":return e.stop()}}),e)})))()},getDefault:function(){var t=this;return x(u.a.mark((function e(){var n,a;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get(t.$originUrl2+"/search/default");case 2:n=e.sent,a=n.data,200==a.code&&(t.defaultWord=a.data.realkeyword,t.getSongList());case 5:case"end":return e.stop()}}),e)})))()},clickHot:function(t){""!==t&&(this.keywords=t,this.searchMusic())},getHotSearch:function(){var t=this;return x(u.a.mark((function e(){var n,a;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.showInfoTip=!0,0===t.hotList.length){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t.$http.get(t.$originUrl2+"/search/hot/detail");case 5:if(n=e.sent,a=n.data,200===a.code){e.next=9;break}return e.abrupt("return");case 9:t.hotList=a.data.slice(0,6);case 10:case"end":return e.stop()}}),e)})))()},searchMusic:function(){var t=this;return x(u.a.mark((function e(){var n,a;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t.keywords){e.next=2;break}return e.abrupt("return",t.$message.waring("请输入搜索关键词！"));case 2:return t.showInfoTip=!1,e.next=5,t.$http.get(t.$originUrl2+"/cloudsearch?keywords="+t.keywords+"&limit=20");case 5:n=e.sent,a=n.data,200==a.code&&(t.songList=a.result.songs,t.songList.forEach((function(e){e.singer=e.ar[0].name,e.album=e.al.name,e.totaltime=e.dt,e.duration=t.$options.filters["format"](e.dt)})));case 8:case"end":return e.stop()}}),e)})))()}}},L=k,$=(n("8d78"),Object(m["a"])(L,g,y,!1,null,"10a5b2d9",null)),_=$.exports,C=n("5c64"),I={data:function(){return{activePath:"/daily",menuList:[{path:"/daily",title:"每日推荐",Login:!0,type:1},{path:"/search",title:"搜索",Login:!0,type:0}]}},components:{Banner:w,Search:_,FooterBar:C["a"]},methods:{changePath:function(t){this.activePath=t}},created:function(){},mounted:function(){var t=new s.a.WOW({boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0});t.init()}},S=I,M=(n("8f05"),Object(m["a"])(S,a,r,!1,null,"435ac5a6",null));e["default"]=M.exports},"4a6b":function(t,e,n){"use strict";n("d02c")},"8d78":function(t,e,n){"use strict";n("17e8")},"8f05":function(t,e,n){"use strict";n("0702")},d02c:function(t,e,n){}}]);